#!nsh
#
# @name Tianji VTOL.
#
# @type Tianji VTOL
#
# @maintainer L3YZ <L3YZ@126.com>
#

sh /etc/init.d/rc.vtol_defaults

if [ $AUTOCNF == yes ]
then
	
	param set  MC_ACRO_P_MAX           360.0
	param set  MC_ACRO_R_MAX           360.0
	param set  MC_ACRO_Y_MAX           360.0
	param set  MC_PITCHRATE_D              0.0
	param set  MC_PITCHRATE_FF             0.0
	param set  MC_PITCHRATE_I              0.01
	param set  MC_PITCHRATE_MAX      220.0
	param set  MC_PITCHRATE_P               0.1
	param set  MC_PITCH_P	                      4.0
	param set  MC_PITCH_TC                     0.2
	param set  MC_RATT_TH                      1.0
	param set  MC_ROLLRATE_D                0.0
	param set  MC_ROLLRATE_FF               0.0
	param set  MC_ROLLRATE_I              0.005
	param set  MC_ROLLRATE_MAX        220.0
	param set  MC_ROLLRATE_P                 0.2
	param set  MC_ROLL_P                         4.0
	param set  MC_ROLL_TC                       0.2
	param set  MC_YAWRATE_D                  0.0
	param set  MC_YAWRATE_FF                 0.0
	param set  MC_YAWRATE_I                0.014
	param set  MC_YAWRATE_MAX            30.0
	param set  MC_YAWRATE_P                   0.4
	param set  MC_YAWRAUTO_MAX	        45.0
	param set  MC_YAW_FF                        0.35
	param set  MC_YAW_P                            2.5

	param set  MPC_ACC_HOR_MAX		4.0
	param set  MPC_HOLD_MAX_XY		0.5
	param set  MPC_HOLD_MAX_Z		0.5
	param set  MPC_HOLD_XY_DZ		0.1
	param set  MPC_HOLD_Z_DZ		0.1
	param set  MPC_LAND_SPEED		0.5
	param set  MPC_MANTHR_MAX		0.9
	param set  MPC_MANTHR_MIN		0.08
	param set  MPC_MAN_P_MAX		35.0
	param set  MPC_MAN_R_MAX		35.0
	param set  MPC_MAN_Y_MAX		120.0
	param set  MPC_THR_MAX		0.9
	param set  MPC_THR_MIN		0.12
	param set  MPC_TILTMAX_AIR		45.0
	param set  MPC_TILTMAX_LND		12.0
	param set  MPC_TKO_SPEED		1.5
	param set  MPC_VELD_LP		5.0
	param set  MPC_XY_FF			0.5
	param set  MPC_XY_P			1.0
	param set  MPC_XY_VEL_D		0.0
	param set  MPC_XY_VEL_I		0.02
	param set  MPC_XY_VEL_MAX		5.0
	param set  MPC_XY_VEL_P		0.1
	param set  MPC_Z_FF			0.5
	param set  MPC_Z_P			1.0
	param set  MPC_Z_VEL_D		0.0
	param set  MPC_Z_VEL_I			0.02
	param set  MPC_Z_VEL_MAX		3.0
	param set  MPC_Z_VEL_P		0.2

	param set  VT_ARSP_BLEND		18.0
	param set  VT_ARSP_LP_GAIN		0.3
	param set  VT_ARSP_TRANS		20.0
	param set  VT_B_TRANS_DUR		2.0
	param set  VT_ELEV_MC_LOCK		0.0
	param set  VT_FW_MOT_OFFID		0.0
	param set  VT_FW_PERM_STAB		0.0
	param set  VT_FW_PITCH_TRIM		0.0
	param set  VT_F_TRANS_DUR		3.0
	param set  VT_MC_ARSPD_MAX		30.0
	param set  VT_MC_ARSPD_MIN		10.0
	param set  VT_MC_ARSPD_TRIM		10.0
	param set  VT_OPT_RECOV_EN		0.0
	param set  VT_POWER_MAX		120.0
	param set  VT_PROP_EFF		0.0
	param set  VT_TILT_FW			1.0
	param set  VT_TILT_MC			0.0
	param set  VT_TILT_TRANS		0.3
	param set  VT_TRANS_P2_DUR		0.5
	param set  VT_TRANS_THR		0.9
	param set  VT_TRANS_TIMEOUT		15.0

fi

set MIXER TianjiMain
set PWM_OUT 12345678
set PWM_RATE 400

set MIXER_AUX TianjiAux
set PWM_AUX_RATE 50
set PWM_AUX_OUT 1234
set PWM_AUX_DISARMED 1500
set PWM_AUX_MIN 1000
set PWM_AUX_MAX 2000

set MAV_TYPE 22

param set VT_MOT_COUNT 4
param set VT_IDLE_PWM_MC 1080
param set VT_TYPE 2